前言

- jvm在不断的发展中, 这篇文章是基于[简书](https://www.jianshu.com/p/c5058b6fe8e5)的一篇总结文档, 最新特性需要持续学习
##正文
|名称|特点|存在场景|升级条件|升级过程|
| --- |:--|---|---|----------------|
|偏向锁|一次cas|无竞争,单线程|对偏向锁线程ID的cas失败|等待全局安全点,撤销偏向锁,然后cas争抢轻量级锁标志|
|轻量级锁|抢锁/取消锁  多次进行cas|无竞争或短时间竞争,多线程交替访问|对轻量级锁标志位cas失败,或者多次尝试此cas失败|cas争抢重量级锁标志位,抢到后,获取Monitor,当获取Monitor进行时,其它竞争线程自旋等待当前线程的Monitor,然后拿到,当获取Monitor完成后,若再有其它线程访问同步代码,直接阻塞|
|重量级锁|依赖系统级别互斥量|多线程竞争|-|-|
##附
- 轻量级锁在升级重量级锁前可以先进行多次自旋尝试抢锁, 达到次数限制后再升级, 此为自旋锁优化
- 下为为对象头标志位分布图
- ![WechatIMG29](../../zlinks/pic/WechatIMG29.png)

